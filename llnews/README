Пакет llnews предназначен для приема рассылаемых броадкастом
файлов (в первую очередь, пакетов новостей) через LuckyLink.

  УСТАНОВКА
1. Посмотрите файл conf.h и отредактируйте его в соответствии со
своей конфигурацией. Номер порта, uplink, MAGIC_START менять не нужно.
2. Наберите "make".
3. Если ничего не получилось - посмотрите, почему, исправьте,
напишите об этом gul@lucky.net, и снова наберите make.
4. Повторяйте п.3 до успеха. ;-)
5. Посмотрите llrecv и отредактируйте его на свое усмотрение.
6. Наберите "make install". См. пп.3,4.
7. Сконфигурируйте прием пакетов на адрес, на который происходит
вещание (см. http://news.lucky.net), и поставьте этот адрес алиасом
на машине, где запущен llnews. В данный момент это news-1.ll.net.ua
(62.244.63.7).
8. Добавьте запуск "nohup llnews&" куда-нибудь в /etc/rc.d/ или
что у вас есть. ;)
9. Сообщите об установке llnews на newsmaster@lucky.net - необходимо
сделать некоторые изменения для более эффективного его использования.

  КАК ОНО РАБОТАЕТ
Вещание происходит по UDP на некоторый адрес, который слушают сразу
все участники проекта LuckyLink (а точнее, конечно, весь поток; для
каждого потока вещание происходит отдельно). Применены некоторые
(простые) алгоритмы восстановления потерянных пакетов.
Каждый файл имеет свой тип - некое число. Обработка файла зависит
от его типа. Типы файлов от 1000 до 2000 - это пакеты новостей
(конкретный тип зависит от иерархии).
После приема пакета запускается команда, указанная как CMD в conf.h,
она получает два парамера: тип файла и его имя (во временном каталоге).
Она уже разбирается, с каким типом файлов что надо делать, и производит
необходимые действия (например, запуск rnews).
Естественно, прием происходит лишь с некоторой степенью надежности,
поэтому llnews не может служить единственным источником новостей. Те
же самые иерархии лучше получать и обычным nntp. Для того, чтобы не
принимать одно и то же дважды, для участников LuckyLink отдача
конференций по NNTP происходит с некоторой задержкой (около часа),
что дает возможность не принимать повторно по NNTP конференции, уже
принятые через llnews.
Протоколирование идет через syslog (LOG_NEWS) либо в указанный файл,
в зависимости от значения SYSLOG в conf.h.

Вопросы, пожелания, предложения шлите на newsmaster@lucky.net или
в рассылку ll@lucky.net.

Удачи!

					Pavel Gulchouck <gul@lucky.net>

